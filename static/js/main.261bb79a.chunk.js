(this["webpackJsonpepass-app"]=this["webpackJsonpepass-app"]||[]).push([[0],{273:function(e,t,a){e.exports=a(492)},278:function(e,t,a){},279:function(e,t,a){e.exports=a.p+"static/media/logo.5d5d9eef.svg"},280:function(e,t,a){},281:function(e,t,a){},303:function(e,t){},305:function(e,t){},347:function(e,t){},348:function(e,t){},492:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),s=a(74),c=a.n(s),l=(a(278),a(15)),o=a(16),i=a(23),m=a(22),u=a(497),d=a(500),p=a(494),g=(a(279),a(280),a(281),a(252)),h=a(495),f=a(498),v=a(499),E=a(38),b=a.n(E),y="http://tnepass.us-west-2.elasticbeanstalk.com",w="http://tnepass.us-west-2.elasticbeanstalk.com/jpa",j=function(e){return"Bearer "+e},A=new(function(){function e(){Object(l.a)(this,e)}return Object(o.a)(e,[{key:"registerSuccessfulLoginGuest",value:function(e,t){sessionStorage.setItem("authenticatedGuest",e),this.setupAxiosInterceptors(j(t))}},{key:"registerSuccessfulLoginUser",value:function(e,t){sessionStorage.setItem("authenticatedUser",e),this.setupAxiosInterceptors(j(t))}},{key:"registerSuccessfulLoginAdmin",value:function(e,t){sessionStorage.setItem("authenticatedAdmin",e),this.setupAxiosInterceptors(j(t))}},{key:"executeJwtAuthenticationService",value:function(e,t){return b.a.post(y+"/authenticate",{username:e,password:t})}},{key:"initialGuestLogin",value:function(){var e=this;this.executeJwtAuthenticationService("guest","guest").then((function(t){e.registerSuccessfulLoginGuest("guest",t.data.token)}))}},{key:"logoutAdmin",value:function(){sessionStorage.removeItem("authenticatedAdmin")}},{key:"logoutGuest",value:function(){sessionStorage.removeItem("authenticatedGuest")}},{key:"logoutUser",value:function(){sessionStorage.removeItem("authenticatedUser")}},{key:"isUserLoggedIn",value:function(){return null!==sessionStorage.getItem("authenticatedUser")}},{key:"isAdminLoggedIn",value:function(){return null!==sessionStorage.getItem("authenticatedAdmin")}},{key:"isGuestLoggedIn",value:function(){return null!==sessionStorage.getItem("authenticatedGuest")}},{key:"getLoggedInMobileNo",value:function(){return sessionStorage.getItem("authenticatedUser")}},{key:"setupAxiosInterceptors",value:function(e){var t=this;b.a.interceptors.request.use((function(a){return t.isUserLoggedIn&&(a.headers.authorization=e),a}))}}]),e}()),O=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).handleChange=function(e){n.setState(Object(g.a)({},e.target.name,e.target.value))},n.loginClicked=function(){A.executeJwtAuthenticationService(n.state.userName,n.state.password).then((function(e){A.registerSuccessfulLoginAdmin("admin",e.data.token),n.props.onLogin()})).catch((function(){n.setState({showFailureMessage:!1,hasLoginFailed:!0})}))},n.state={userName:"pradeep",password:"password@123",hasLoginFailed:!1,showFailureMessage:!1},n}return Object(o.a)(a,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(h.a.Header,{closeButton:!0},r.a.createElement(h.a.Title,null,"Admin Login")),r.a.createElement(h.a.Body,null,r.a.createElement("div",{class:"col-12 col-md-12"},r.a.createElement("form",{role:"form"},this.state.hasLoginFailed&&r.a.createElement("div",{class:"container bg-warning text-center"},"Invalid Password/Userid"),r.a.createElement("div",{class:"form-group"},r.a.createElement("div",{class:"form-group row"},r.a.createElement("label",{for:"firstname",class:"col-md-3"},"User Id"),r.a.createElement("input",{type:"text",onChange:this.handleChange,value:this.state.userName,class:"form-control col-md-8",id:"userName",name:"userName",placeholder:"User id"})),r.a.createElement("div",{class:"form-group row"},r.a.createElement("label",{for:"firstname",class:"col-md-3"},"Password"),r.a.createElement("input",{type:"password",onChange:this.handleChange,value:this.state.password,class:"form-control col-md-8",id:"password",name:"password",placeholder:"Password"})))))),r.a.createElement(h.a.Footer,null,r.a.createElement(f.a,{variant:"primary",onClick:this.loginClicked},"Login")))}}]),a}(n.Component),S=Object(v.a)(O),k=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(){var e;return Object(l.a)(this,a),(e=t.call(this)).handleClose=function(t){return e.setState({showAdminLogin:!1})},e.handleShow=function(t){return e.setState({showAdminLogin:!0})},e.handleLogin=function(){e.setState({showAdminLogin:!1}),e.setState({isAdminLogin:A.isAdminLoggedIn()}),e.setState({isUserLogin:A.isUserLoggedIn()}),e.props.history.push("/adminDashboard")},e.logout=function(){A.logoutUser(),A.logoutAdmin(),e.setState({isAdminLogin:A.isAdminLoggedIn()}),e.props.history.push("/adminDashboard")},e.state={showAdminLogin:!1,isAdminLogin:A.isAdminLoggedIn(),isUserLogin:A.isUserLoggedIn()},e}return Object(o.a)(a,[{key:"componentDidMount",value:function(){this.setState({isAdminLogin:A.isAdminLoggedIn(),isUserLogin:A.isUserLoggedIn()})}},{key:"componentWillUpdate",value:function(){this.state.isAdminLogin==A.isAdminLoggedIn()&&this.state.isUserLogin==A.isUserLoggedIn()||this.setState({isAdminLogin:A.isAdminLoggedIn(),isUserLogin:A.isUserLoggedIn()})}},{key:"render",value:function(){var e=this;return r.a.createElement("header",null,r.a.createElement(h.a,{show:this.state.showAdminLogin,onHide:this.handleClose,onLogin:function(){e.handleClose()}},!this.state.isAdminLogin&&r.a.createElement(S,{onLogin:function(){e.handleLogin()}})),r.a.createElement("nav",{class:"navbar navbar-dark navbar-expand-sm fixed-top"},r.a.createElement("div",{class:"container"},r.a.createElement("button",{class:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#Navbar"},r.a.createElement("span",{class:"navbar-toggler-icon"})),r.a.createElement("a",{class:"navbar-brand mr-auto",href:"#"}," TamilNadu E-Pass Portal"),r.a.createElement("div",{class:"collapse navbar-collapse",id:"Navbar"},r.a.createElement("div",{class:"col-12 col-sm-12"}),!this.state.isAdminLogin&&!this.state.isUserLogin&&r.a.createElement("button",{type:"button",class:"btn btn-success",onClick:this.handleShow},"Admin Login"),(this.state.isAdminLogin||this.state.isUserLogin)&&r.a.createElement("button",{type:"button",class:"btn btn-success",onClick:function(){e.logout()}},"Logout")))))}}]),a}(n.Component),D=Object(v.a)(k),L=a(107),I=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).handleNumber=function(e){n.props.prevState.otpGenerated||n.setState({mobileNo:e.target.value})},n.handleOtp=function(e){n.setState({otp:e.target.value})},n.state={elapsed:99999},n.handleGenerate=n.handleGenerate.bind(Object(L.a)(n)),n.tick=n.tick.bind(Object(L.a)(n)),n}return Object(o.a)(a,[{key:"handleGenerate",value:function(){this.setState({endTime:(new Date).getTime()+6e4}),console.log((new Date).getTime()),this.props.generateOtp(this.state.mobileNo),this.timer=setInterval(this.tick,1e3)}},{key:"tick",value:function(){console.log(this.state.endTime),this.state.elapsed<=1e3&&this.props.resetState(),this.setState({elapsed:this.state.endTime-(new Date).getTime()})}},{key:"componentWillUnmount",value:function(){clearInterval(this.timer)}},{key:"startTimer",value:function(){this.timer=setInterval(this.tick,1e3)}},{key:"render",value:function(){var e=this;return this.props.prevState.otpGenerated&&Math.round(this.state.elapsed/100),r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{class:"col-12 col-sm-5 align-self-center"},r.a.createElement("div",{class:"card"},r.a.createElement("div",{class:"card-body"},this.props.prevState.invalidOtp&&r.a.createElement("div",{class:"container bg-warning text-center"},"Invalid OTP"),r.a.createElement("div",{class:"row justify-content-center"},r.a.createElement("h1",null,"User Login ")),r.a.createElement("div",{class:"form-group"},r.a.createElement("label",null,"Mobile No"),r.a.createElement("input",{type:"number",name:"mobileNo",onChange:this.handleNumber,value:this.state.mobileNo,class:"form-control",placeholder:"(+91)"})),this.props.prevState.otpGenerated&&r.a.createElement("div",{class:"form-group"},r.a.createElement("label",null,"OTP"),r.a.createElement("input",{type:"password",onChange:this.handleOtp,value:this.state.otp,class:"form-control",placeholder:"Enter password"})),!this.props.prevState.otpGenerated&&r.a.createElement("div",{class:"row  justify-content-center"},r.a.createElement("button",{onClick:function(){return e.handleGenerate()},class:"btn btn-primary btn-lg"},"Generate OTP")),this.props.prevState.otpGenerated&&!this.props.otpVerified&&r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{class:"row  justify-content-center"},r.a.createElement("button",{onClick:function(){return e.props.validateOtp(e.state.otp)},class:"btn btn-primary btn-lg"},"Verify")),r.a.createElement("div",{class:"container text-center"},r.a.createElement("a",null,"You have ",Math.floor(this.state.elapsed/6e4)," minutes and ",Math.floor(this.state.elapsed/1e3)%60," seconds")),r.a.createElement("div",{class:"container text-center"}," ",r.a.createElement("a",{onClick:this.props.resetState,href:""},"Try a different Number"))),this.props.otpVerified&&r.a.createElement("a",null,"Logging You In ...")))))}}]),a}(n.Component),N=new(function(){function e(){Object(l.a)(this,e)}return Object(o.a)(e,[{key:"generateOTP",value:function(e){return b.a.get("http://localhost:8080/generateOtp/".concat(e))}},{key:"validateOTP",value:function(e,t){return b.a.get("http://localhost:8080/validateOtp/".concat(e,"?otpnum=").concat(t))}}]),e}());function P(){return r.a.createElement("div",{class:"col-12 col-sm-6 justify-content-center"},r.a.createElement("div",{class:"row justify-content-center"},r.a.createElement("div",{class:"card"},r.a.createElement("h3",{class:"card-header bg-success text-white "},"Valid Reasons"),r.a.createElement("div",{class:"card-body"},r.a.createElement("dl",{class:"row justify-content-center"},r.a.createElement("dt",{class:"col-1"},"\u2714\ufe0f"),r.a.createElement("dd",{class:"col-11"},"I am stranded and i need to go to my home town"),r.a.createElement("dt",{class:"col-1"},"\u2714\ufe0f"),r.a.createElement("dd",{class:"col-11"},"I want to attend my relative's marriage.(only blood relatives)"),r.a.createElement("dt",{class:"col-1"},"\u2714\ufe0f"),r.a.createElement("dd",{class:"col-11"},"I am a Government official and i have an ongoing government work."),r.a.createElement("dt",{class:"col-1"}," "),r.a.createElement("dd",{class:"col-11"}," "),r.a.createElement("dt",{class:"col-2"},"Info:"),r.a.createElement("dd",{class:"col-10"},"Activities like Agriculture, loading/unloading cargos, Plantation, and essential goods supply does not require an E-Pass to travel between cities.")))),r.a.createElement("h3",null," "),r.a.createElement("h1",null," "),r.a.createElement("h1",null," "),r.a.createElement("div",{class:"card"},r.a.createElement("h3",{class:"card-header bg-warning text-white "},"Invalid Reasons"),r.a.createElement("div",{class:"card-body"},r.a.createElement("dl",{class:"row justify-content-center"},r.a.createElement("dt",{class:"col-1"},"X"),r.a.createElement("dd",{class:"col-11"},"Visiting a friend's place"),r.a.createElement("dt",{class:"col-1"},"X"),r.a.createElement("dd",{class:"col-11"},"Marriage functions of distant relatives"),r.a.createElement("dt",{class:"col-1"},"X"),r.a.createElement("dd",{class:"col-11"},"Any application without proper credentials will also be rejected"))))))}var C=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).generateOtp=function(e){console.log(n.props),N.generateOTP(e).then((function(e){n.setState({otpGenerated:!0,mobileNo:e.data.number,otp:e.data.otp}),console.log(e.data)}))},n.resetState=function(){n.setState({otpGenerated:!1,otpVerified:!0,invalidOtp:!1,mobileNo:0,otp:0})},n.validateOtp=function(e){console.log(n.props),N.validateOTP(n.state.mobileNo,e).then((function(e){"SUCCESS"==e.data?(n.setState({otpVerified:!0,invalidOtp:!1}),A.executeJwtAuthenticationService("dummy","dummy").then((function(e){console.log(e.data.token),A.registerSuccessfulLoginUser("".concat(n.state.mobileNo),e.data.token),n.props.history.push("/userDashboard/")}))):n.setState({invalidOtp:!0})}))},n.state={otpGenerated:!1,otpVerified:!0,invalidOtp:!1,mobileNo:0,otp:0},A.initialGuestLogin(),n}return Object(o.a)(a,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{class:"container"},r.a.createElement("body",null,r.a.createElement("div",{class:"row row-content justify-content-center"},r.a.createElement(P,null),r.a.createElement(I,{prevState:this.state,generateOtp:this.generateOtp,validateOtp:this.validateOtp,resetState:this.resetState})))))}}]),a}(n.Component),T=new(function(){function e(){Object(l.a)(this,e)}return Object(o.a)(e,[{key:"fetchAllPasses",value:function(){return b.a.get("".concat(w,"/passes"))}},{key:"fetchAllPassesByMobileNo",value:function(e){return b.a.get("".concat(w,"/passes/mobile/").concat(e))}},{key:"findPassById",value:function(e){return b.a.get("".concat(w,"/passes/").concat(e))}},{key:"updateStatus",value:function(e,t){return b.a.put("".concat(w,"/passes/").concat(e),{status:t})}},{key:"savePass",value:function(e){console.log(e);return b.a.post("".concat(w,"/passes"),e,{headers:{"Content-Type":"application/json"}})}},{key:"postImage",value:function(e){return b.a.post("".concat(y,"/upload"),e)}},{key:"viewImage",value:function(e){return b.a.get("".concat(y,"/download/").concat(e))}}]),e}()),x=a(42),M=x.e.create({page:{flexDirection:"column"},section:{margin:10,padding:10,flexGrow:1,textAlign:"center"}}),U=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).handleApplyPass=function(){n.props.history.push("/userDashboard/ApplyPass")},n.state={data:[]},n}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this;T.fetchAllPassesByMobileNo(A.getLoggedInMobileNo()).then((function(t){console.log(t),e.setState({data:t.data})})).catch((function(){A.logoutUser(),e.props.history.push("/adminDashboard")}))}},{key:"render",value:function(){var e=this.state.data;return r.a.createElement("body",null,r.a.createElement("div",{class:"row p-5 justify-content-center"},r.a.createElement("div",{class:"col-12 col-sm-2 justify-content-center"},r.a.createElement("button",{class:"btn btn-primary btn-lg",onClick:this.handleApplyPass},"Apply For A New Pass"))),r.a.createElement("div",{class:"row p-5 justify-content-center"},r.a.createElement("div",{class:"card w-100"},r.a.createElement("h3",{class:"card-header bg-success text-white "},r.a.createElement("span",{class:"row p-2 justify-content-center"},"Previousley Applied Passes")),r.a.createElement("div",{class:"card-body"},0==e.length&&r.a.createElement("h5",{class:"text-grey"},r.a.createElement("span",{class:"row p-6 justify-content-center"},"You haven't applied for any passes.")),0!=e.length&&r.a.createElement("div",{class:"table-responsive"},r.a.createElement("table",{class:"table"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{scope:"col"},"Date Of Application"),r.a.createElement("th",{scope:"col"},"Status"),r.a.createElement("th",{scope:"col"},"No. Of Passengers"),r.a.createElement("th",{scope:"col"},"From District"),r.a.createElement("th",{scope:"col"},"To District"),r.a.createElement("th",{scope:"col"},"Reason"),r.a.createElement("th",null))),r.a.createElement("tbody",null,e.map((function(e){return r.a.createElement("tr",null,r.a.createElement("th",null,"".concat(e.createdAt).substring(0,10)),r.a.createElement("td",null,e.status),r.a.createElement("td",null,e.numberOfPassengers),r.a.createElement("td",null,e.fromDistrict),r.a.createElement("td",null,e.toDistrict),r.a.createElement("td",null,e.reason),r.a.createElement("td",null,"Approved"==e.status&&r.a.createElement("div",null,r.a.createElement(x.c,{document:r.a.createElement(G,{pass:e}),fileName:"somename.pdf"},(function(e){return e.loading?"Loading document...":"Download now!"})))))})))))))))}}]),a}(n.Component),G=function(e){Object(i.a)(n,e);var t=Object(m.a)(n);function n(e){var r;Object(l.a)(this,n),r=t.call(this,e);var s=a(479);s.image("I love QR!");return r.state={qr_png:s.imageSync("".concat(r.props.pass.id))},r}return Object(o.a)(n,[{key:"componentDidMount",value:function(){console.log(this.state.qr_png)}},{key:"render",value:function(){var e=this.props.pass;return r.a.createElement(x.a,null,r.a.createElement(x.d,{size:"A4",style:M.page},r.a.createElement(x.g,{style:M.section},r.a.createElement(x.f,null,"TamilNadu E-Pass Services")),r.a.createElement(x.g,{style:M.section},r.a.createElement(x.f,null,"Pass Approved."),r.a.createElement(x.f,null,"Pass Valid for 2 days from ",e.createdAt.substring(0,10))),r.a.createElement(x.g,{style:M.section},r.a.createElement(x.f,null,"Pass Id: ",e.id),r.a.createElement(x.b,{src:this.state.qr_png,alt:"images"}))))}}]),n}(n.Component),V=U,F=a(35),B=a(272),R=a.n(B),Y=["Select","Ariyalur","Chengalpattu","Chennai","Coimbatore","Cuddalore","Dharmapuri","Dindigul","Erode","Kallakurichi","Kanchipuram","Kanyakumari","Karur","Krishnagiri","Madurai","Nagapattinam","Namakkal","Nilgiris","Perambalur","Pudukkottai","Ramanathapuram","Ranipet","Salem","Sivaganga","Tenkasi","Thanjavur","Theni","Thoothukudi (Tuticorin)","Tiruchirappalli","Tirunelveli","Tirupathur","Tiruppur","Tiruvallur","Tiruvannamalai","Tiruvarur","Vellore","Viluppuram","Virudhunagar"],q=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={loading:!1,thumb:void 0},e}return Object(o.a)(a,[{key:"componentWillReceiveProps",value:function(e){var t=this;e.file&&this.setState({loading:!0},(function(){var a=new FileReader;a.onloadend=function(){t.setState({loading:!1,thumb:a.result})},a.readAsDataURL(e.file)}))}},{key:"render",value:function(){var e=this.props.file,t=this.state,a=t.loading,n=t.thumb;return e?a?r.a.createElement("p",null,"loading..."):r.a.createElement("img",{src:n,alt:e.name,className:"img-thumbnail mt-2",height:200,width:200}):null}}]),a}(r.a.Component),J=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(){var e;return Object(l.a)(this,a),(e=t.call(this)).state={passengers:1,passengerType:"1 Bike",p1document:null,marriagedocument:null},e}return Object(o.a)(a,[{key:"render",value:function(){var e=this;this.uploadDocument=function(t,a){var n=new FormData,r=t.currentTarget.files[0];n.append("file",t.currentTarget.files[0],"blabla"),T.postImage(n).then((function(t){"p1"===a?(e.setState({p1document:t.data}),e.setState({p1documentName:r})):(e.setState({marriagedocument:t.data}),e.setState({marriagedocumentName:r}))}))};for(var t=function(t){e.setState({passengerType:t.target.value});var a=parseInt("".concat(t.target.value).split(" ")[0]);e.setState({passengers:a}),console.log(t.target.value)},a=[],n=0;n<this.state.passengers;n++)a.push(r.a.createElement("div",{key:"passenger".concat(n+1),class:"col-12 p-5 col-sm-5 align-self-center"},r.a.createElement("div",{class:"card"},r.a.createElement("div",{class:"card-body"},r.a.createElement("div",{class:"row justify-content-center"},r.a.createElement("h5",{class:"p-2 md-2"},"Passenger ",n+1)),r.a.createElement("div",{class:"form-group row justify-content-center"},r.a.createElement("label",{for:"firstname",class:"col-md-3 mt-2"},r.a.createElement("h6",null,"Name")),r.a.createElement(F.b,{type:"name",class:"form-control col-md-6",name:"name".concat(n+1),placeholder:"Name"})),r.a.createElement("div",{class:"form-group row justify-content-center"},r.a.createElement("label",{for:"firstname",class:"col-md-3 mt-2"},r.a.createElement("h6",null,"Age")),r.a.createElement(F.b,{type:"number",class:"form-control col-md-6",name:"age".concat(n+1),placeholder:"Age"})),r.a.createElement("div",{class:"form-group row justify-content-center"},r.a.createElement("label",{for:"firstname",class:"col-md-3 mt-2"},r.a.createElement("h6",null,"Aadhar No")),r.a.createElement(F.b,{type:"number",class:"form-control col-md-6",name:"aadhar".concat(n+1),placeholder:"Aadhar"}))))));return console.log(a),this.onSubmit=function(t){console.log(e.state.p1document),console.log(t);for(var a=[],n=0;n<e.state.passengers;n++)a.push({name:t["name".concat(n+1)],age:t["age".concat(n+1)],aadhar:t["aadhar".concat(n+1)]});T.savePass({reason:t.reason,createdAt:R()(new Date).format("YYYY-MM-DD"),mobileNo:A.getLoggedInMobileNo(),status:"Pending",numberOfPassengers:e.state.passengers,fromDistrict:t.fromDistrict,fromAddress1:t.fromAddress1,fromAddress2:t.fromAddress2,toDistrict:t.toDistrict,toAddress1:t.toAddress1,toAddress2:t.toAddress2,vehicleNo:t.vehicleNo,vehicleType:e.state.passengerType.value,passengers:a,p1DocumentId:e.state.p1document,marriageDocumentId:e.state.marriagedocument}).then((function(t){console.log(t),e.props.history.push("/userDashboard/")}))},this.validate=function(t){document.getElementById("top").scrollIntoView();var a={};return t.fromAddress1&&t.toAddress1||(a.fromAddress1="Address is a must"),t.fromDistrict===t.toDistrict&&(a.fromDistrict="From and to district cannot be the same."),"Select"!=t.fromDistrict&&"Select"!=t.toDistrict||(a.fromDistrict="Select a district"),"Marriage"===t.reason&&null===e.state.marriagedocumentName&&(a.reason="For Marriage You Have To Provide The Marriage Invitation"),null===e.state.p1documentName&&(a.reason="Provide A Proof Document Of Passenger 1"),t.age1&&t.aadhar1&&t.name1||(a.name1="Passenger 1 Details are mandatory"),a||(a.general="Make Sure All The Mandatory fields are filled"),t.vehicleNo||(a.vehicleNo="Enter A vehicle Number"),a},r.a.createElement("div",null,r.a.createElement(F.d,{initialValues:{reason:"Stranded in a new place",toDistrict:"Select",fromDistrict:"Select",vehicleNo:"",toAddress1:"",fromAddress1:"",name1:"",general:"",file:null},onSubmit:this.onSubmit,validate:this.validate,validateOnBlur:!1,validateOnChange:!1},(function(n){return r.a.createElement(F.c,null,r.a.createElement("div",{id:"top"}),r.a.createElement(F.a,{name:"fromDistrict",component:"div",class:"alert bg-warning"}),r.a.createElement(F.a,{name:"fromAddress1",component:"div",class:"alert bg-warning"}),r.a.createElement(F.a,{name:"vehicleNo",component:"div",class:"alert bg-warning"}),r.a.createElement(F.a,{name:"name1",component:"div",class:"alert bg-warning"}),r.a.createElement(F.a,{name:"reason",component:"div",class:"alert bg-warning"}),r.a.createElement(F.a,{name:"general",component:"div",class:"alert bg-warning"}),r.a.createElement("div",{class:"col-12 col-sm-12 align-self-center"},r.a.createElement("div",{class:"card"},r.a.createElement("div",{class:"card-body"},r.a.createElement("div",{class:"row justify-content-center"},r.a.createElement("h1",null," ")),r.a.createElement("div",{class:"form-group row justify-content-center"},r.a.createElement("div",{class:"form-group col-12 col-sm-5"},r.a.createElement("div",{class:"row  justify-content-center"},r.a.createElement("h3",null,"Reason")),r.a.createElement("select",{class:"form-control",name:"reason",onChange:function(t){n.values.reason=t.target.value,e.setState({isMarriage:"Marriage"===t.target.value})}},r.a.createElement("option",{value:"Stranded in a new place"},"Stranded in a new place"),r.a.createElement("option",{value:"Marriage"},"Marriage"),r.a.createElement("option",{value:"Death"},"Death"),r.a.createElement("option",{value:"Government Duty"},"Government Duty")))),r.a.createElement("div",{class:"form-group row justify-content-center"},r.a.createElement("div",{class:"form-group col-12 col-sm-4"},r.a.createElement("div",{class:"row  justify-content-center"},r.a.createElement("h3",null,"Your Address")),r.a.createElement("fieldset",{class:"form-group"},r.a.createElement(F.b,{type:"address",className:"form-control",name:"fromAddress1",placeholder:"Address Line 1"})),r.a.createElement("div",{class:"form-group"},r.a.createElement(F.b,{type:"address",class:"form-control",name:"fromAddress2",placeholder:"Address Line 2"})),r.a.createElement("div",{class:"form-group row justify-content-center"},r.a.createElement("label",{class:"col-md-3 mt-2"},r.a.createElement("h6",null,"District")),r.a.createElement("div",{class:"col-md-6"},r.a.createElement("select",{class:"form-control",name:"fromDistrict",onChange:function(e){n.values.fromDistrict=e.target.value}},Y.map((function(e){return r.a.createElement("option",{key:e,value:e},e)})))))),r.a.createElement("div",{class:"form-group col-12 col-sm-4"},r.a.createElement("div",{class:"row  justify-content-center"},r.a.createElement("h3",null,"Destination Address")),r.a.createElement("div",{class:"form-group"},r.a.createElement(F.b,{type:"address",class:"form-control",name:"toAddress1",placeholder:"Address Line 1"})),r.a.createElement("div",{class:"form-group"},r.a.createElement(F.b,{type:"address",class:"form-control",name:"toAddress2",placeholder:"Address Line 2"})),r.a.createElement("div",{class:"form-group row justify-content-center"},r.a.createElement("label",{for:"firstname",class:"col-md-3 mt-2"},r.a.createElement("h6",null,"District")),r.a.createElement("div",{class:"col-md-6"},r.a.createElement("select",{class:"form-control",name:"toDistrict",onChange:function(e){n.values.toDistrict=e.target.value}},Y.map((function(e){return r.a.createElement("option",{key:e,value:e},e)})))))))),r.a.createElement("div",{class:"form-group row justify-content-center"},r.a.createElement("div",{class:"form-group col-12 col-sm-5"},r.a.createElement("div",{class:"row justify-content-center"},r.a.createElement("h2",null,"Vehicle Details")),r.a.createElement("div",{class:"form-group row justify-content-center"},r.a.createElement("label",{for:"firstname",class:"col-md-3 mt-2"},r.a.createElement("h6",null,"Vehicle Type")),r.a.createElement("div",{class:"col-md-6"},r.a.createElement("select",{class:"form-control",onChange:t,value:e.state.passengerType,name:"vehicle"},r.a.createElement("option",{value:"1 Bike"},"Bike"),r.a.createElement("option",{value:"3 Car"},"Car"),r.a.createElement("option",{value:"5 Car-7-Seater"},"Car (7 seater)"),r.a.createElement("option",{value:"2 goods"},"Goods Vehicles")))),r.a.createElement("div",{class:"form-group row justify-content-center"},r.a.createElement("label",{for:"firstname",class:"col-md-3 mt-2"},r.a.createElement("h6",null,"Vehicle Number")),r.a.createElement(F.b,{type:"text",class:"form-control col-md-6",name:"vehicleNo",placeholder:"Vehicle No"})))),r.a.createElement("div",{class:"form-group row justify-content-center"},r.a.createElement("div",{class:"form-group col-12 col-md-12"},r.a.createElement("div",{class:"row justify-content-center"},r.a.createElement("h2",null,"Passenger Details")),r.a.createElement("div",{id:"passengerList"},r.a.createElement("div",{class:"form-group row justify-content-center"},a)),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,r.a.createElement("h5",null,"Passenger 1 Document For Verification")),r.a.createElement("input",{name:"p1document",type:"file",onChange:function(t){e.uploadDocument(t,"p1")},className:"form-control"}),r.a.createElement(q,{file:e.state.p1documentName})),e.state.isMarriage&&r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,r.a.createElement("h5",null,"Marriage Invitation")),r.a.createElement("input",{name:"marriageDocument",type:"file",onChange:function(t){e.uploadDocument(t,"marriage")},className:"form-control"}),r.a.createElement(q,{file:e.state.marriagedocumentName})))),r.a.createElement("div",{class:"row  justify-content-center p-3"},r.a.createElement("button",{type:"submit",class:"btn btn-primary btn-lg pl-2 pr-2"},"Submit")))))})))}}]),a}(n.Component),K=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).state={data:[],viewOnlyPending:!1},n}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this;T.fetchAllPasses().then((function(t){e.setState({data:t.data})})).catch((function(){A.logoutAdmin(),e.props.history.push("/adminDashboard")}))}},{key:"render",value:function(){var e,t=this;return e=this.state.viewOnlyPending?this.state.data.filter((function(e){return"Pending"==e.status})):this.state.data,r.a.createElement("body",null,r.a.createElement("div",{class:"row p-5 justify-content-center"},r.a.createElement("div",{class:"card w-100"},r.a.createElement("h3",{class:"card-header bg-success text-white "},r.a.createElement("span",null,r.a.createElement("input",{name:"isGoing",type:"checkbox",checked:this.state.viewOnlyPending,onChange:function(e){t.state.viewOnlyPending?t.setState({viewOnlyPending:!1}):t.setState({viewOnlyPending:!0})}}),r.a.createElement("a",{style:{fontSize:"50%",padding:"10px"}},"Show only pending Passes")),r.a.createElement("span",{class:"row p-2 justify-content-center"},"Applied Passes")),r.a.createElement("div",{class:"card-body"},r.a.createElement("dl",{class:""},0==this.state.data.length&&r.a.createElement("h5",{class:"text-grey"},r.a.createElement("span",{class:"row p-6 justify-content-center"},"No Passes Available")),0!=e.length&&r.a.createElement("div",{class:"table-responsive"},r.a.createElement("table",{class:"table"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{scope:"col"},"Date Of Application"),r.a.createElement("th",{scope:"col"},"Status"),r.a.createElement("th",{scope:"col"},"No. Of Passengers"),r.a.createElement("th",{scope:"col"},"From District"),r.a.createElement("th",{scope:"col"},"To District"),r.a.createElement("th",{scope:"col"},"Reason"),r.a.createElement("th",{scope:"col"}))),r.a.createElement("tbody",null,e.map((function(e){return r.a.createElement("tr",null,r.a.createElement("th",null,"".concat(e.createdAt).substring(0,10)),r.a.createElement("td",null,e.status),r.a.createElement("td",null,e.numberOfPassengers),r.a.createElement("td",null,e.fromDistrict),r.a.createElement("td",null,e.toDistrict),r.a.createElement("td",null,e.reason),r.a.createElement("td",null,r.a.createElement("button",{class:"btn bg-success btn-lg",name:"id",onClick:function(){return a=e.id,void t.props.history.push("/adminDashboard/View/".concat(a));var a}},"View")))}))))))))))}}]),a}(n.Component),W={createdAt:"Monday",status:"pending",numberOfPassengers:"3",vehicleType:"Bike",vehicleNo:"TN09AQ7743",toAddressLine1:"line 1",toAddressLine2:"Line2",fromAddressLine1:"line 1",fromAddressLine2:"Line2",fromDistrict:"Chennai",toDistrict:"Sivagangai",reason:"Stranded in a new place",passengers:[{name:"pradeep",age:21,aadhar:865726279191},{name:"pradeep",age:21,aadhar:865726279191}]},z=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(){var e;return Object(l.a)(this,a),(e=t.call(this)).state={data:W,p1Document:null,marriageDocument:null},e}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this;T.findPassById(this.props.match.params.id).then((function(t){console.log(t.data),e.setState({data:t.data}),console.log(t.data),T.viewImage(t.data.p1DocumentId).then((function(t){e.setState({p1Document:t.data})})),T.viewImage(t.data.marriageDocumentId).then((function(t){console.log(t),e.setState({marriageDocument:t.data})}))})).catch((function(){A.logoutAdmin(),e.props.history.push("/adminDashboard")}))}},{key:"render",value:function(){var e=this,t=this.state.data,a=function(t){T.updateStatus(e.props.match.params.id,t).then((function(){return e.props.history.push("/adminDashboard/")}))};return r.a.createElement("body",null,r.a.createElement("div",{class:"col-12 col-sm-12 align-self-center"},r.a.createElement("div",{class:"card"},r.a.createElement("div",{class:"card-body"},r.a.createElement("div",{class:"row justify-content-center"},r.a.createElement("h1",null," ")),r.a.createElement("div",{class:"form-group row justify-content-center"},r.a.createElement("div",{class:"form-group col-12 col-sm-5"},r.a.createElement("div",{class:"row  justify-content-center"},r.a.createElement("h3",null,"Reason")),r.a.createElement("div",{class:"form-group row justify-content-center"},r.a.createElement("h5",null,t.reason)))),r.a.createElement("div",{class:"form-group row justify-content-center"},r.a.createElement("div",{class:"form-group col-12 col-sm-4"},r.a.createElement("div",{class:"row  justify-content-center"},r.a.createElement("h3",null,"From Address")),r.a.createElement("div",{class:"form-group row justify-content-center"},r.a.createElement("div",{class:"form-group"},r.a.createElement("span",null,t.fromAddress1," "))),r.a.createElement("div",{class:"form-group row justify-content-center"},r.a.createElement("div",{class:"form-group"},r.a.createElement("span",null,t.fromAddress2))),r.a.createElement("div",{class:"form-group row justify-content-center"},r.a.createElement("h5",null,t.fromDistrict))),r.a.createElement("div",{class:"form-group col-12 col-sm-4"},r.a.createElement("div",{class:"row  justify-content-center"},r.a.createElement("h3",null,"To Address")),r.a.createElement("div",{class:"form-group row justify-content-center"},r.a.createElement("div",{class:"form-group"},r.a.createElement("span",null,t.toAddress1," "))),r.a.createElement("div",{class:"form-group row justify-content-center"},r.a.createElement("div",{class:"form-group"},r.a.createElement("span",null,t.toAddress2," "))),r.a.createElement("div",{class:"form-group row justify-content-center"},r.a.createElement("h5",null,t.toDistrict))),r.a.createElement("div",{class:"form-group col-12 col-sm-4"},r.a.createElement("div",{class:"row  justify-content-center"},r.a.createElement("h3",null,"Vehicle Details")),r.a.createElement("div",{class:"form-group row justify-content-center"},r.a.createElement("div",{class:"form-group mt-3"},r.a.createElement("h4",null,t.vehicleType," "))),r.a.createElement("div",{class:"form-group row justify-content-center"},r.a.createElement("div",{class:"form-group"},r.a.createElement("span",null,"(max passengers :",t.numberOfPassengers,") "))),r.a.createElement("div",{class:"form-group row justify-content-center"},r.a.createElement("h5",null,t.vehicleNo))))),r.a.createElement("div",{class:"row justify-content-center"},r.a.createElement("h2",null,"Passenger Details")),r.a.createElement("div",{class:"form-group row justify-content-center"},t.passengers.map((function(e,t){return r.a.createElement("div",null,r.a.createElement("div",{class:"form-group col-12 col-sm-12 "},r.a.createElement("div",{class:"card",style:{width:"20rem"}},r.a.createElement("div",{class:"card-body"},r.a.createElement("h4",{class:"text-center"},"Passenger ",t+1),r.a.createElement("div",{class:"form-group row justify-content-center"},r.a.createElement("label",{for:"firstname",class:"col-md-4 mt-2"},r.a.createElement("h6",null,"Name")),r.a.createElement("span",{type:"name",class:"col-md-6 ",id:"name1",name:"name1",placeholder:"Name"},e.name)),r.a.createElement("div",{class:"form-group row justify-content-center"},r.a.createElement("label",{for:"firstname",class:"col-md-4 mt-2"},r.a.createElement("h6",null,"Age")),r.a.createElement("span",{type:"name",class:"col-md-6",id:"name1",name:"name1",placeholder:"Name"},e.age)),r.a.createElement("div",{class:"form-group row justify-content-center"},r.a.createElement("label",{for:"firstname",class:"col-md-4 mt-2"},r.a.createElement("h6",null,"Aadhar No")),r.a.createElement("span",{type:"name",class:"col-md-6",id:"name1",name:"name1",placeholder:"Name"},e.aadhar))))))}))),r.a.createElement("div",{class:"row justify-content-center p-3"},r.a.createElement("div",{class:"col-12 col-sm-3 p-3 align-self-center"},r.a.createElement("img",{src:"data:image/png;base64,".concat(this.state.p1Document),alt:"Passenger-1 Document",onClick:function(){console.log("Image Clicked")},className:"img-thumbnail mt-2",height:500,width:500}),r.a.createElement("h6",{class:"text-center"},"Passenger 1 Id Proof")),this.state.marriageDocument&&r.a.createElement("div",{class:"col-12 col-sm-3 p-3 align-self-center"},r.a.createElement("img",{src:"data:image/png;base64,".concat(this.state.marriageDocument),alt:"Passenger-1 Document",onClick:function(){console.log("Image Clicked")},className:"img-thumbnail mt-2",height:500,width:500}),r.a.createElement("h6",{class:"text-center"},"Marriage Proof"))),r.a.createElement("div",{class:"row  justify-content-center p-3"},r.a.createElement("div",{class:"p-3"},r.a.createElement("button",{onClick:function(){a("Approved")},name:"assign",value:"approved",class:"btn btn-primary btn-lg pl-2 pr-2 bg-success"},r.a.createElement("div",{class:"p-3"},"Approve"))),r.a.createElement("div",{class:"p-3"},r.a.createElement("button",{onClick:function(){a("Rejected")},name:"assign",value:"rejected",class:"btn btn-primary btn-lg pl-2 pr-2 bg-danger"},r.a.createElement("div",{class:"p-3"},"Reject")))))))}}]),a}(n.Component);var H=function(){return r.a.createElement("div",null,"I have no idea whats going on !")},X=a(496),_=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return A.isAdminLoggedIn()?r.a.createElement(p.a,this.props):r.a.createElement(X.a,{to:"/login"})}}]),a}(n.Component),Q=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return A.isUserLoggedIn()?r.a.createElement(p.a,this.props):r.a.createElement(X.a,{to:"/login"})}}]),a}(n.Component),$=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return A.isAdminLoggedIn()||A.isUserLoggedIn()?A.isAdminLoggedIn()?r.a.createElement(X.a,{to:"/adminDashboard"}):r.a.createElement(X.a,{to:"/userDashboard"}):r.a.createElement(p.a,this.props)}}]),a}(n.Component),Z=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"App"},r.a.createElement(u.a,null,r.a.createElement(r.a.Fragment,null,r.a.createElement(D,null),r.a.createElement(d.a,null,r.a.createElement($,{path:"/",exact:!0,component:C}),r.a.createElement($,{path:"/login",component:C}),r.a.createElement(Q,{path:"/userDashboard",exact:!0,component:V}),r.a.createElement(Q,{path:"/userDashboard/applyPass",component:J}),r.a.createElement(_,{path:"/adminDashboard",exact:!0,component:K}),r.a.createElement(_,{path:"/adminDashboard/View/:id",component:z}),r.a.createElement(p.a,{component:H})))))}}]),a}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement("meta",{"http-equiv":"Content-Security-Policy",content:"upgrade-insecure-requests"}),r.a.createElement(Z,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[273,1,2]]]);
//# sourceMappingURL=main.261bb79a.chunk.js.map